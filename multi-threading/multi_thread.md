iOS多线程

## 目的

本文主要是分享iOS多线程的相关内容，为了更系统的讲解，将分为以下7个方面来展开描述。

1 多线程的基本概念
2 线程的状态与生命周期
3 多线程的四种解决方案：pthread，NSThread，GCD，NSOperation
4 线程安全问题
5 NSThread的使用
6 GCD的理解与使用
7 NSOperation的理解与使用


## 一、多线程的基本概念

* 进程：可以理解成一个运行中的应用程序，是系统进行资源分配和调度的基本单位，是操作系统结构的基础，主要管理资源。
* 线程：是进程的基本执行单元，一个进程对应多个线程。
主线程：处理UI，所有更新UI的操作都必须在主线程上执行。不要把耗时操作放在主线程，会卡界面。
多线程：在同一时刻，一个CPU只能处理1条线程，但CPU可以在多条线程之间快速的切换，只要切换的足够快，就造成了多线程一同执行的假象。
线程就像火车的一节车厢，进程则是火车。车厢（线程）离开火车（进程）是无法跑动的，而火车（进程）至少有一节车厢（主线程）。多线程可以看做多个车厢，它的出现是为了提高效率。
多线程是通过提高资源使用率来提高系统总体的效率。
我们运用多线程的目的是：将耗时的操作放在后台执行！
## 二、线程的状态与生命周期

下图是线程状态示意图，从图中可以看出线程的生命周期是：新建 - 就绪 - 运行 - 阻塞 - 死亡
